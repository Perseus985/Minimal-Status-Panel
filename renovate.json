{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "extends": [
    "config:recommended",
    ":semanticCommitTypeAll(chore)"
  ],
  "timezone": "Europe/Berlin",
  "schedule": [
    "before 6am on monday"
  ],
  "labels": [
    "dependencies"
  ],
  "commitMessagePrefix": "chore(deps):",
  "commitMessageAction": "update",
  "commitMessageTopic": "{{depName}}",
  "commitMessageExtra": "to {{newVersion}}",
  "prTitle": "chore(deps): update {{depName}} to {{newVersion}}",
  "prBodyTemplate": "This PR contains the following updates:\n\n| Package | Change | Age | Adoption | Passing | Confidence |\n|---|---|---|---|---|---|\n{{#each upgrades as |upgrade|}}\n|{{upgrade.depName}}|{{upgrade.currentVersion}} â†’ {{upgrade.newVersion}}|[![age](https://developer.mend.io/api/mc/badges/age/{{upgrade.datasource}}/{{upgrade.depName}}/{{upgrade.newVersion}}?slim=true)](https://docs.renovatebot.com/merge-confidence/)|[![adoption](https://developer.mend.io/api/mc/badges/adoption/{{upgrade.datasource}}/{{upgrade.depName}}/{{upgrade.newVersion}}?slim=true)](https://docs.renovatebot.com/merge-confidence/)|[![passing](https://developer.mend.io/api/mc/badges/compatibility/{{upgrade.datasource}}/{{upgrade.depName}}/{{upgrade.currentVersion}}/{{upgrade.newVersion}}?slim=true)](https://docs.renovatebot.com/merge-confidence/)|[![confidence](https://developer.mend.io/api/mc/badges/confidence/{{upgrade.datasource}}/{{upgrade.depName}}/{{upgrade.currentVersion}}/{{upgrade.newVersion}}?slim=true)](https://docs.renovatebot.com/merge-confidence/)|\n{{/each}}\n\n---\n\n### Release Notes\n\n{{#each upgrades as |upgrade|}}\n{{#if upgrade.hasReleaseNotes}}\n<details>\n<summary>{{upgrade.depName}}</summary>\n\n{{upgrade.releaseNotes}}\n</details>\n{{/if}}\n{{/each}}\n\n---\n\n### Configuration\n\nðŸ“… **Schedule**: {{schedule}}\n\nðŸš¦ **Automerge**: {{automerge}}\n\nâ™» **Rebasing**: {{rebaseWhen}}\n\nðŸ”• **Ignore**: {{ignorePresets}}\n\n---\n\nThis PR has been generated by [Renovate Bot](https://github.com/renovatebot/renovate).\n",
  "packageRules": [
    {
      "groupName": "Grafana packages",
      "matchPackagePatterns": ["^@grafana/"],
      "schedule": ["before 6am on monday"],
      "automerge": false,
      "reviewers": ["team:maintainers"],
      "allowedVersions": "^10.0.0",
      "description": "Keep Grafana packages at v10 for React 18 compatibility"
    },
    {
      "groupName": "React ecosystem",
      "matchPackageNames": ["react", "react-dom", "@types/react", "@types/react-dom"],
      "schedule": ["before 6am on monday"],
      "automerge": false,
      "reviewers": ["team:maintainers"],
      "allowedVersions": "^18.0.0",
      "description": "Keep React at v18 for Grafana compatibility"
    },
    {
      "groupName": "Webpack and loaders",
      "matchPackagePatterns": ["webpack", "loader", "babel"],
      "schedule": ["before 6am on monday"],
      "automerge": false
    },
    {
      "groupName": "ESLint and Prettier",
      "matchPackageNames": ["eslint", "prettier"],
      "matchPackagePatterns": ["eslint-", "prettier-"],
      "schedule": ["before 6am on monday"],
      "automerge": true,
      "automergeType": "pr"
    },
    {
      "groupName": "Testing dependencies",
      "matchPackageNames": ["jest", "@testing-library/react", "@testing-library/jest-dom", "ts-jest"],
      "matchPackagePatterns": ["jest-", "@jest/", "@testing-library/"],
      "schedule": ["before 6am on monday"],
      "automerge": true,
      "automergeType": "pr"
    },
    {
      "groupName": "TypeScript and types",
      "matchPackageNames": ["typescript"],
      "matchPackagePatterns": ["^@types/"],
      "schedule": ["before 6am on monday"],
      "automerge": true,
      "automergeType": "pr"
    },
    {
      "groupName": "Semantic Release",
      "matchPackageNames": ["semantic-release"],
      "matchPackagePatterns": ["^@semantic-release/"],
      "schedule": ["before 6am on monday"],
      "automerge": false,
      "reviewers": ["team:maintainers"]
    },
    {
      "groupName": "Minor and patch dependencies",
      "matchUpdateTypes": ["minor", "patch"],
      "excludePackagePatterns": ["^@grafana/", "react", "webpack", "semantic-release"],
      "automerge": true,
      "automergeType": "pr",
      "schedule": ["before 6am on monday"]
    },
    {
      "groupName": "Major dependencies",
      "matchUpdateTypes": ["major"],
      "automerge": false,
      "schedule": ["before 6am on monday"],
      "reviewers": ["team:maintainers"],
      "prPriority": 10
    },
    {
      "matchPackageNames": ["react", "react-dom"],
      "matchCurrentVersion": "^18.0.0",
      "matchUpdateTypes": ["major"],
      "enabled": false,
      "description": "Block React 19 - incompatible with Grafana"
    }
  ],
  "vulnerabilityAlerts": {
    "enabled": true,
    "schedule": ["at any time"],
    "automerge": true,
    "automergeType": "pr",
    "prPriority": 20
  },
  "lockFileMaintenance": {
    "enabled": true,
    "schedule": ["before 6am on monday"],
    "automerge": true,
    "automergeType": "pr"
  },
  "prConcurrentLimit": 5,
  "branchConcurrentLimit": 10,
  "prHourlyLimit": 2,
  "platformAutomerge": true,
  "requiredStatusChecks": [
    "Test & Lint",
    "Build & Verify Plugin",
    "Security & Dependency Check"
  ],
  "ignorePaths": [
    "**/node_modules/**",
    "**/dist/**",
    "**/coverage/**"
  ]
}